{% extends 'base.html' %}
{% block title %} Edit Post {% endblock %}

{% block content %}
<div class="container my-5">

  <h2 class="text-primary fw-bold fs-2 text-center">
    <i class="fa-solid fa-pen-to-square me-2"></i>
    Edit Your <span class="text-warning">Post</span>
  </h2>

  <form class="card p-4 shadow-sm border-0 mt-4" method="POST" enctype="multipart/form-data">
      {% csrf_token %}

      <!-- Description -->
      <div class="form-group my-3">
        <label>
          <i class="fa-solid fa-align-left me-2"></i> Description
        </label>
        <textarea class="form-control" name="description" rows="5" required>{{ post.description }}</textarea>
      </div>

      <!-- Image Upload -->
      <div class="form-group my-3">
        <label>
          <i class="fa-solid fa-image me-2"></i> Change Image (optional)
        </label>
        <input type="file" name="image" class="form-control" accept="image/*">
      </div>

      <!-- Old Image Preview -->
      <div class="text-center my-3">
        <p class="fw-bold mb-1">Current Image:</p>
        <img src="{{ post.image.url }}" class="img-fluid rounded shadow-sm" style="max-height: 350px; object-fit: cover;">
      </div>

      <!-- Submit Button -->
      <button class="btn btn-primary form-control mt-3" type="submit">
        <i class="fa-solid fa-rotate me-2"></i> Update Post
      </button>

  </form>

</div>
{% endblock %}